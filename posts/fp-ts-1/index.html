<!DOCTYPE html><html lang="ko-KR" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="[fp-ts] 타입스크립트로 함수형 프로그래밍 시작하기: Eq" /><meta name="author" content="Bae Sangwoo" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="이 포스팅은 DEV Community에서 참고하여 공부하면서 정리한 문서입니다. 현재 주 개발 언어로 사용 중인 스칼라 코드가 갑작스럽게 등장할 수 있습니다." /><meta property="og:description" content="이 포스팅은 DEV Community에서 참고하여 공부하면서 정리한 문서입니다. 현재 주 개발 언어로 사용 중인 스칼라 코드가 갑작스럽게 등장할 수 있습니다." /><link rel="canonical" href="https://bswsw.github.io/posts/fp-ts-1/" /><meta property="og:url" content="https://bswsw.github.io/posts/fp-ts-1/" /><meta property="og:site_name" content="bveloper" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-06-05T20:40:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[fp-ts] 타입스크립트로 함수형 프로그래밍 시작하기: Eq" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Bae Sangwoo" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Bae Sangwoo"},"dateModified":"2022-06-05T21:55:44+09:00","datePublished":"2022-06-05T20:40:00+09:00","description":"이 포스팅은 DEV Community에서 참고하여 공부하면서 정리한 문서입니다. 현재 주 개발 언어로 사용 중인 스칼라 코드가 갑작스럽게 등장할 수 있습니다.","headline":"[fp-ts] 타입스크립트로 함수형 프로그래밍 시작하기: Eq","mainEntityOfPage":{"@type":"WebPage","@id":"https://bswsw.github.io/posts/fp-ts-1/"},"url":"https://bswsw.github.io/posts/fp-ts-1/"}</script><title>[fp-ts] 타입스크립트로 함수형 프로그래밍 시작하기: Eq | bveloper</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="bveloper"><meta name="application-name" content="bveloper"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/bveloper.jpeg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">bveloper</a></div><div class="site-subtitle font-italic">bveloper</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>정보</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/bswsw" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['baegoony','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>[fp-ts] 타입스크립트로 함수형 프로그래밍 시작하기: Eq</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <img data-src="https://gcanti.github.io/fp-ts/fp-ts-logo.png" class="preview-img bg" alt="Preview Image" data-proofer-ignore><h1 data-toc-skip>[fp-ts] 타입스크립트로 함수형 프로그래밍 시작하기: Eq</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/bswsw">BAE SANGWOO</a> </em></div><div class="d-flex"><div> <span> 게시 <em class="timeago" data-ts="1654429200" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-06-05 </em> </span> <span> 업데이트 <em class="timeago" data-ts="1654433744" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-06-05 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1963 단어"> <em>10 분</em>읽는 시간</span></div></div></div><div class="post-content"><p>이 포스팅은 <a href="https://dev.to/gcanti/getting-started-with-fp-ts-setoid-39f3" target="_blank">DEV Community</a>에서 참고하여 공부하면서 정리한 문서입니다. 현재 주 개발 언어로 사용 중인 스칼라 코드가 갑작스럽게 등장할 수 있습니다.</p><p><br /></p><h2 id="fp-ts"><span class="mr-2">fp-ts</span><a href="#fp-ts" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><p><code class="language-plaintext highlighter-rouge">fp-ts</code>는 타입스크립트로 타입이 있는 함수형 프로그래밍을 할 수 있도록 제공하는 <a href="https://github.com/gcanti/fp-ts">라이브러리</a>이다.</p><p>타입스크립트에서 제공하지 않는 <code class="language-plaintext highlighter-rouge">Option</code>, <code class="language-plaintext highlighter-rouge">Either</code>, <code class="language-plaintext highlighter-rouge">IO</code>, <code class="language-plaintext highlighter-rouge">Task</code>, <code class="language-plaintext highlighter-rouge">Functor</code>, <code class="language-plaintext highlighter-rouge">Applicative</code>, <code class="language-plaintext highlighter-rouge">Monad</code> 등 함수형 타입을 제공한다.</p><p><br /></p><h2 id="타입-클래스-type-class"><span class="mr-2">타입 클래스 (Type Class)</span><a href="#타입-클래스-type-class" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><p>타입 클래스란 구현하려는 기능을 나타내는 인터페이스 혹은 API 이다. 타입스크립트에서는 타입 클래스를 인터페이스로 작성할 수 있다.</p><p>먼저 동등성(<em>equality</em>)을 평가하는 기능을 가지고 있는 <code class="language-plaintext highlighter-rouge">Eq</code> 타입 클래스를 작성해보자.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kr">interface</span> <span class="nx">Eq</span><span class="o">&lt;</span><span class="nx">A</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="k">readonly</span> <span class="nx">equals</span> <span class="p">(</span><span class="na">x</span><span class="p">:</span> <span class="nx">A</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="nx">A</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">boolean</span>
<span class="p">}</span>
</pre></table></code></div></div><blockquote class="prompt-info"><div><p>타입 <code class="language-plaintext highlighter-rouge">A</code>는 <code class="language-plaintext highlighter-rouge">Eq</code> 타입 클래스에 속해있으며 <code class="language-plaintext highlighter-rouge">equals</code> 함수에 정의되어 있다.</p></div></blockquote><p><br /></p><p>스칼라에서는 아래와 같이 트레이트를 사용하여 작성할 수 있다.</p><div class="language-scala highlighter-rouge"><div class="code-header"> <span data-label-text="Scala"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">trait</span> <span class="nc">Eq</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">def</span> <span class="nf">equals</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">A</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">A</span><span class="o">)</span><span class="k">:</span> <span class="kt">Boolean</span>
<span class="o">}</span>
</pre></table></code></div></div><blockquote class="prompt-tip"><div><p>트레이트는 자바의 인터페이스와 비슷하지만 더 확장된 개념으로 자바에서는 인터페이스를 구현(<em>implementation</em>) 한다고 하지만 스칼라에서는 트레이트를 믹스인(<em>mixin</em>) 한다고 한다.</p></div></blockquote><p><br /></p><h2 id="인스턴스-instance"><span class="mr-2">인스턴스 (Instance)</span><a href="#인스턴스-instance" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><p>인스턴스는 타입 클래스의 구현을 제공하며 <code class="language-plaintext highlighter-rouge">Eq</code> 클래스 기준으로 <code class="language-plaintext highlighter-rouge">A</code> 타입에 대한 구현을 제공한다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">eqNumber</span><span class="p">:</span> <span class="nx">Eq</span><span class="o">&lt;</span><span class="kr">number</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">equals</span><span class="p">:</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">===</span> <span class="nx">y</span>
<span class="p">}</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">eqNumber</code> 인스턴스는 몇 가지 규칙을 지켜야 한다.</p><ol><li>반사성(<em>Reflexivity</em>): <code class="language-plaintext highlighter-rouge">x</code>가 무엇이든 <code class="language-plaintext highlighter-rouge">equals(x, x) === true</code> 이어야 한다.<li>대칭성(<em>symmetry</em>): <code class="language-plaintext highlighter-rouge">equals(x, y) === true</code> 라면 <code class="language-plaintext highlighter-rouge">equals(y, x) === true</code> 이어야 한다.<li>전이성(<em>Transitivity</em>): <code class="language-plaintext highlighter-rouge">equals(x, y) === true</code>, <code class="language-plaintext highlighter-rouge">equals(y, z) === true</code> 라면 <code class="language-plaintext highlighter-rouge">equals(x, z) === true</code> 이다.</ol><p>스칼라에서는 인스턴스를 이렇게 정의할 수 있다.</p><div class="language-scala highlighter-rouge"><div class="code-header"> <span data-label-text="Scala"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c1">// implicit에 대해서는 아래에서 살펴보자...</span>
<span class="k">implicit</span> <span class="k">val</span> <span class="nv">eqNumber</span><span class="k">:</span> <span class="kt">Eq</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Eq</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">override</span> <span class="k">def</span> <span class="nf">equals</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span>
<span class="o">}</span>
</pre></table></code></div></div><p><br /></p><p>다음과 같이 배열에 특정 요소가 존재하는지 평가하는 <code class="language-plaintext highlighter-rouge">elem</code> 함수를 정의할 수 있다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">elem</span><span class="o">&lt;</span><span class="nx">A</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">E</span><span class="p">:</span> <span class="nx">Eq</span><span class="o">&lt;</span><span class="nx">A</span><span class="o">&gt;</span><span class="p">):</span> <span class="p">(</span><span class="nx">a</span><span class="p">:</span> <span class="nx">A</span><span class="p">,</span> <span class="k">as</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nx">A</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">boolean</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="k">as</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">as</span><span class="p">.</span><span class="nx">some</span><span class="p">(</span><span class="nx">item</span> <span class="o">=&gt;</span> <span class="nx">E</span><span class="p">.</span><span class="nx">equals</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">a</span><span class="p">))</span>
<span class="p">}</span>

<span class="nx">elem</span><span class="p">(</span><span class="nx">eqNumber</span><span class="p">)(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c1">// true</span>
<span class="nx">elem</span><span class="p">(</span><span class="nx">eqNumber</span><span class="p">)(</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c1">// false</span>
</pre></table></code></div></div><blockquote class="prompt-info"><div><p><code class="language-plaintext highlighter-rouge">elem</code> 함수는 <code class="language-plaintext highlighter-rouge">Eq</code> 타입 클래스를 구현한 <code class="language-plaintext highlighter-rouge">eqNumber</code> 인스턴스를 사용하여 <code class="language-plaintext highlighter-rouge">as</code> 배열에서 <code class="language-plaintext highlighter-rouge">a</code>가 존재하는지 평가한다.</p></div></blockquote><p>이렇게 <code class="language-plaintext highlighter-rouge">A</code>에 대한 <code class="language-plaintext highlighter-rouge">Eq</code> 인스턴스를 인자로 넘겨서 함수에서 동등성에 대한 평가를 할 수 있다. 이 예제는 단순한 예제일 뿐이다.</p><p>만약 특정 기능을 타입 클래스로 추상화 해두고 필요에 따라 구현해둔다면 로직의 재사용성과 일관성, 함수 합성 등 다양한 함수형 프로그래밍의 장점을 보게 될 것이다.</p><p>스칼라에서는 이렇게 할 수 있다.</p><div class="language-scala highlighter-rouge"><div class="code-header"> <span data-label-text="Scala"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">elem</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">a</span><span class="k">:</span> <span class="kt">A</span><span class="o">,</span> <span class="n">as</span><span class="k">:</span> <span class="kt">Seq</span><span class="o">[</span><span class="kt">A</span><span class="o">])(</span><span class="k">implicit</span> <span class="n">E</span><span class="k">:</span> <span class="kt">Eq</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="o">{</span>
  <span class="nv">as</span><span class="o">.</span><span class="py">exists</span><span class="o">(</span><span class="n">item</span> <span class="k">=&gt;</span> <span class="nv">E</span><span class="o">.</span><span class="py">equals</span><span class="o">(</span><span class="n">item</span><span class="o">,</span> <span class="n">a</span><span class="o">))</span>
<span class="o">}</span>

<span class="nf">elem</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">Seq</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">))</span> <span class="c1">// true</span>
<span class="nf">elem</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="nc">Seq</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">))</span> <span class="c1">// false</span>
</pre></table></code></div></div><blockquote class="prompt-tip"><div><p><code class="language-plaintext highlighter-rouge">eqNumber</code>를 암시적(<em>implicit</em>)으로 정의했기 때문에 생략이 가능하다. 스칼라의 특징 중 하나이다.</p></div></blockquote><p><br /></p><p>복합 타입에 대한 <code class="language-plaintext highlighter-rouge">Eq</code> 타입 클래스의 인스턴스도 정의할 수 있다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kd">type</span> <span class="nx">Point</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">x</span><span class="p">:</span> <span class="kr">number</span>
  <span class="na">y</span><span class="p">:</span> <span class="kr">number</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">eqPoint</span><span class="p">:</span> <span class="nx">Eq</span><span class="o">&lt;</span><span class="nx">Point</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">equals</span><span class="p">:</span> <span class="p">(</span><span class="nx">p1</span><span class="p">,</span> <span class="nx">p2</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">p1</span><span class="p">.</span><span class="nx">x</span> <span class="o">===</span> <span class="nx">p2</span><span class="p">.</span><span class="nx">x</span> <span class="o">&amp;&amp;</span> <span class="nx">p1</span><span class="p">.</span><span class="nx">y</span> <span class="o">===</span> <span class="nx">p2</span><span class="p">.</span><span class="nx">y</span>
<span class="p">}</span>
</pre></table></code></div></div><p>반사성을 고려한다면 아래와 같이 코드를 최적화 할 수 있다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">eqPoint</span><span class="p">:</span> <span class="nx">Eq</span><span class="o">&lt;</span><span class="nx">Point</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">equals</span><span class="p">:</span> <span class="p">(</span><span class="nx">p1</span><span class="p">,</span> <span class="nx">p2</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">p1</span> <span class="o">===</span> <span class="nx">p2</span> <span class="o">||</span> <span class="p">(</span><span class="nx">p1</span><span class="p">.</span><span class="nx">x</span> <span class="o">===</span> <span class="nx">p2</span><span class="p">.</span><span class="nx">x</span> <span class="o">&amp;&amp;</span> <span class="nx">p1</span><span class="p">.</span><span class="nx">y</span> <span class="o">===</span> <span class="nx">p2</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span>
<span class="p">}</span>
</pre></table></code></div></div><p><br /></p><h2 id="함수-조합기-combinator"><span class="mr-2">함수 조합기 (Combinator)</span><a href="#함수-조합기-combinator" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><hr /><p>그런데 이렇게 모든 타입의 동등성 평가를 위한 인스턴스를 만드는 것은 너무 번거롭다.</p><p><code class="language-plaintext highlighter-rouge">Point</code> 타입의 프로퍼티들은 모두 <code class="language-plaintext highlighter-rouge">number</code> 타입이고 우리는 이미 <code class="language-plaintext highlighter-rouge">eqNumber</code> 인스턴스를 구현했으므로 이를 사용하여 <code class="language-plaintext highlighter-rouge">Point</code> 타입의 동등성 비교를 하는 것이 좋겠다.</p><p><code class="language-plaintext highlighter-rouge">fp-ts</code>는 이런 것들을 하기 위한 함수 조합기(<em>combinator</em>)를 제공한다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span><span class="nx">struct</span><span class="p">,</span> <span class="nx">Eq</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">fp-ts/Eq</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">eqPoint</span><span class="p">:</span> <span class="nx">Eq</span><span class="o">&lt;</span><span class="nx">Point</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">struct</span><span class="p">({</span>
  <span class="na">x</span><span class="p">:</span> <span class="nx">eqNumber</span><span class="p">,</span>
  <span class="na">y</span><span class="p">:</span> <span class="nx">eqNumber</span>
<span class="p">})</span>

<span class="kd">const</span> <span class="nx">p1</span><span class="p">:</span> <span class="nx">Point</span> <span class="o">=</span> <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}</span>
<span class="kd">const</span> <span class="nx">p2</span><span class="p">:</span> <span class="nx">Point</span> <span class="o">=</span> <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}</span>
<span class="nx">eqPoint</span><span class="p">.</span><span class="nx">equals</span><span class="p">(</span><span class="nx">p1</span><span class="p">,</span> <span class="nx">p2</span><span class="p">)</span> <span class="c1">// true</span>
</pre></table></code></div></div><blockquote class="prompt-info"><div><p>참고 문서에서 사용한 <code class="language-plaintext highlighter-rouge">getStructEq</code>는 deprecated 되었다. 사실 <code class="language-plaintext highlighter-rouge">Eq</code>도 <code class="language-plaintext highlighter-rouge">fp-ts</code>에서 제공하는 타입 클래스다.</p></div></blockquote><p><br /></p><p><code class="language-plaintext highlighter-rouge">Point</code> 타입을 가지는 다른 복합 타입이 있다면 <code class="language-plaintext highlighter-rouge">eqPoint</code> 를 조합하여 <code class="language-plaintext highlighter-rouge">Eq</code> 인스턴스를 정의할 수 있다.</p><div class="language-ts highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="kd">type</span> <span class="nx">Vector</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">from</span><span class="p">:</span> <span class="nx">Point</span>
  <span class="na">to</span><span class="p">:</span> <span class="nx">Point</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">eqVector</span><span class="p">:</span> <span class="nx">Eq</span><span class="o">&lt;</span><span class="nx">Vector</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">struct</span><span class="p">({</span>
  <span class="na">from</span><span class="p">:</span> <span class="nx">eqPoint</span><span class="p">,</span>
  <span class="na">to</span><span class="p">:</span> <span class="nx">eqPoint</span>
<span class="p">})</span>

<span class="kd">const</span> <span class="nx">v1</span><span class="p">:</span> <span class="nx">Vector</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">from</span><span class="p">:</span> <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">2</span> <span class="p">},</span>
  <span class="na">to</span><span class="p">:</span> <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}</span>
<span class="p">}</span>
<span class="kd">const</span> <span class="nx">v2</span><span class="p">:</span> <span class="nx">Vector</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">from</span><span class="p">:</span> <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">4</span> <span class="p">},</span>
  <span class="na">to</span><span class="p">:</span> <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}</span>
<span class="p">}</span>
<span class="nx">eqVector</span><span class="p">.</span><span class="nx">equals</span><span class="p">(</span><span class="nx">v1</span><span class="p">,</span> <span class="nx">v2</span><span class="p">)</span> <span class="c1">// false</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">fp-ts/Eq</code> 패키지의 <code class="language-plaintext highlighter-rouge">struct</code>를 사용하여 이렇게 <code class="language-plaintext highlighter-rouge">Eq</code> 인스턴스를 조합할 수 있었다.</p><p>배열을 위한 <code class="language-plaintext highlighter-rouge">Eq</code> 인스턴스를 만들기 위한 함수 조합기도 제공한다.</p><div class="language-ts highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span><span class="nx">getEq</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">fp-ts/Array</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">eqArrayOfPoints</span><span class="p">:</span> <span class="nx">Eq</span><span class="o">&lt;</span><span class="nb">Array</span><span class="o">&lt;</span><span class="nx">Point</span><span class="o">&gt;&gt;</span> <span class="o">=</span> <span class="nx">getEq</span><span class="p">(</span><span class="nx">eqPoint</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">points1</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nx">Point</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[{</span><span class="na">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="na">x</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">2</span><span class="p">}]</span>
<span class="kd">const</span> <span class="nx">points2</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nx">Point</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[{</span><span class="na">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="na">x</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">2</span><span class="p">}]</span>
<span class="nx">eqArrayOfPoints</span><span class="p">.</span><span class="nx">equals</span><span class="p">(</span><span class="nx">points1</span><span class="p">,</span> <span class="nx">points2</span><span class="p">)</span> <span class="c1">// true</span>
</pre></table></code></div></div><p><br /></p><p>만약 어떤 타입이 있을 때 특정 프로퍼티의 동등성 비교로 해당 타입의 동등성을 평가하고 싶다면 <code class="language-plaintext highlighter-rouge">contramap</code> 함수 조합기를 사용할 수 있다.</p><div class="language-ts highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span><span class="nx">contramap</span><span class="p">,</span> <span class="nx">Eq</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">fp-ts/Eq</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">Eq</span> <span class="k">as</span> <span class="nx">eqNumber</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">fp-ts/number</span><span class="dl">'</span> <span class="c1">// 기본 타입의 Eq 인스턴스도 fp-ts에서 기본 제공한다.</span>

<span class="kd">type</span> <span class="nx">User</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">userId</span><span class="p">:</span> <span class="kr">number</span>
  <span class="na">name</span><span class="p">:</span> <span class="kr">string</span>
<span class="p">}</span>

<span class="c1">// userId를 평가하여 User의 동등성을 비교한다.</span>
<span class="kd">const</span> <span class="nx">eqUser</span><span class="p">:</span> <span class="nx">Eq</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">contramap</span><span class="p">((</span><span class="nx">user</span><span class="p">:</span> <span class="nx">User</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">user</span><span class="p">.</span><span class="nx">userId</span><span class="p">)(</span><span class="nx">eqNumber</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">u1</span> <span class="o">=</span> <span class="p">{</span> <span class="na">userId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">alan</span><span class="dl">'</span> <span class="p">}</span>
<span class="kd">const</span> <span class="nx">u2</span> <span class="o">=</span> <span class="p">{</span> <span class="na">userId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">baegoon</span><span class="dl">'</span> <span class="p">}</span>
<span class="nx">eqUser</span><span class="p">.</span><span class="nx">equals</span><span class="p">(</span><span class="nx">u1</span><span class="p">,</span> <span class="nx">u2</span><span class="p">)</span> <span class="c1">// true</span>

<span class="kd">const</span> <span class="nx">u3</span> <span class="o">=</span> <span class="p">{</span> <span class="na">userId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Bae Sangwoo</span><span class="dl">'</span> <span class="p">}</span>
<span class="kd">const</span> <span class="nx">u4</span> <span class="o">=</span> <span class="p">{</span> <span class="na">userId</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Ryu Songyi</span><span class="dl">'</span> <span class="p">}</span>
<span class="nx">eqUser</span><span class="p">.</span><span class="nx">equals</span><span class="p">(</span><span class="nx">u3</span><span class="p">,</span> <span class="nx">u4</span><span class="p">)</span> <span class="c1">// false</span>
</pre></table></code></div></div><p>특정 프로퍼티를 비교한다고 설명했지만 정확한 의미는 아니다. <code class="language-plaintext highlighter-rouge">contramap</code>의 시그니처를 보자.</p><div class="language-ts highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">contramap</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">A</span><span class="p">,</span> <span class="nx">B</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">f</span><span class="p">:</span> <span class="p">(</span><span class="nx">b</span><span class="p">:</span> <span class="nx">B</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">A</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">fa</span><span class="p">:</span> <span class="nx">Eq</span><span class="o">&lt;</span><span class="nx">A</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">Eq</span><span class="o">&lt;</span><span class="nx">B</span><span class="o">&gt;</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">B</code>에 대한 동등성 평가를 할 때 특별한 평가 규칙이 있다면 규칙으로 사용될 함수 <code class="language-plaintext highlighter-rouge">f</code>를 제시하고 그 반환 타입인 <code class="language-plaintext highlighter-rouge">A</code>를 평가하는 <code class="language-plaintext highlighter-rouge">Eq</code> 인스턴스로 동등성을 평가한다.</p><blockquote class="prompt-tip"><div><p><a href="https://github.com/gcanti/fp-ts/blob/master/src/Eq.ts#L96">Github 참고</a></p></div></blockquote><p>다른 예로 위에서 작성한 <code class="language-plaintext highlighter-rouge">Vector</code> 타입의 다른 규칙의 <code class="language-plaintext highlighter-rouge">Eq</code> 인스턴스를 만들어보자.</p><div class="language-ts highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c1">// Vector 타입의 from 프로퍼티만 비교한다. -&gt; eqPoint 인스턴스 사용</span>
<span class="kd">const</span> <span class="nx">eqVector2</span><span class="p">:</span> <span class="nx">Eq</span><span class="o">&lt;</span><span class="nx">Vector</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">contramap</span><span class="p">((</span><span class="nx">v</span><span class="p">:</span> <span class="nx">Vector</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">v</span><span class="p">.</span><span class="k">from</span><span class="p">)(</span><span class="nx">eqPoint</span><span class="p">)</span>

<span class="c1">// Vector 타입의 from 프로퍼티의 x, y의 합을 비교한다. -&gt; eqNumber 인스턴스 사용</span>
<span class="kd">const</span> <span class="nx">eqVector3</span><span class="p">:</span> <span class="nx">Eq</span><span class="o">&lt;</span><span class="nx">Vector</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">contramap</span><span class="p">((</span><span class="nx">v</span><span class="p">:</span> <span class="nx">Vector</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">v</span><span class="p">.</span><span class="k">from</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">v</span><span class="p">.</span><span class="k">from</span><span class="p">.</span><span class="nx">y</span><span class="p">)(</span><span class="nx">eqNumber</span><span class="p">)</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">contramap</code>에 대해서 지금은 이 정도로만 간단히 사용법을 알아보는 것으로 마무리하자. (더 많은 이해가 필요하다.)</p><p>이렇게 <code class="language-plaintext highlighter-rouge">Eq</code> 타입 클래스를 알아보면서 간단히 <code class="language-plaintext highlighter-rouge">fp-ts</code> 라이브러리에 대해 알아보고 함수형 프로그래밍에서 타입을 처리하는 법을 간단히 알아봤다.</p><p>다음은 대소 비교를 하는 <code class="language-plaintext highlighter-rouge">Ord</code> 타입 클래스에 대해 알아보자.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/functional-programming/'>Functional Programming</a>, <a href='/categories/fp-ts/'>fp-ts</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/functional-programming/" class="post-tag no-text-decoration" >functional programming</a> <a href="/tags/fp-ts/" class="post-tag no-text-decoration" >fp-ts</a> <a href="/tags/typescript/" class="post-tag no-text-decoration" >typescript</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[fp-ts] 타입스크립트로 함수형 프로그래밍 시작하기: Eq - bveloper&amp;url=https://bswsw.github.io/posts/fp-ts-1/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[fp-ts] 타입스크립트로 함수형 프로그래밍 시작하기: Eq - bveloper&amp;u=https://bswsw.github.io/posts/fp-ts-1/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://bswsw.github.io/posts/fp-ts-1/&amp;text=[fp-ts] 타입스크립트로 함수형 프로그래밍 시작하기: Eq - bveloper" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/designing-data-chapter9/">09장. 일관성과 합의</a><li><a href="/posts/designing-data-chapter8/">08장. 분산 시스템의 골칫거리</a><li><a href="/posts/designing-data-chapter7/">07장. 트랜잭션</a><li><a href="/posts/designing-data-chapter6/">06장. 파티셔닝</a><li><a href="/posts/designing-data-chapter5/">05장. 복제</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/livestudy/">livestudy</a> <a class="post-tag" href="/tags/whiteship/">whiteship</a> <a class="post-tag" href="/tags/learningscala/">learningscala</a> <a class="post-tag" href="/tags/scala/">scala</a> <a class="post-tag" href="/tags/architecture/">architecture</a> <a class="post-tag" href="/tags/data/">data</a> <a class="post-tag" href="/tags/design/">design</a> <a class="post-tag" href="/tags/study/">study</a> <a class="post-tag" href="/tags/jpa/">jpa</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/designing-data-chapter10/"><div class="card-body"> <em class="timeago small" data-ts="1745640000" > 2025-04-26 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>10장. 일괄 처리</h3><div class="text-muted small"><p> 0. 일괄 처리 일괄 처리는 대규모 데이터를 처리하는 중요한 방식으로, 서비스(온라인), 일괄 처리(오프라인), 스트림 처리(준실시간)와 구분한다. 일괄 처리 시스템은 대용량 입력 데이터를 받아 처리하고 결과 데이터를 생산하며, 작업 시간이 길어 사용자의 즉각적인 대기 없이 반복적인 일정으로 수행된다. 주요 성능 지표는 처리량이다. ...</p></div></div></a></div><div class="card"> <a href="/posts/designing-data-chapter9/"><div class="card-body"> <em class="timeago small" data-ts="1744538400" > 2025-04-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>09장. 일관성과 합의</h3><div class="text-muted small"><p> 0. 일관성과 합의 애플리케이션은 다양한 결함이 발생 가능하다. 네트워크 패킷 손실 타임아웃으로 인한 중복 수신 네트워크 지연 발생 및 순서 변경 정확하지 않은 시간 노드가 멈추거나 죽는 상황 내결함성을 지닌 시스템을 구축하는 가장 좋은 방법은 유용한 보장을 해주는...</p></div></div></a></div><div class="card"> <a href="/posts/designing-data-chapter8/"><div class="card-body"> <em class="timeago small" data-ts="1739073600" > 2025-02-09 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>08장. 분산 시스템의 골칫거리</h3><div class="text-muted small"><p> 어떤 것이든지 잘못될 가능성이 있다면 잘못된다. 0. 분산 시스템의 골칫거리 분산 시스템을 다루는 것은 한 컴퓨터에서 실행되는 소프트웨어를 작성하는 일과는 근본적으로 다르다. 엔지니어로서의 우리의 임무는 모든게 잘못되더라도 사용자가 기대하는 보장을 만족시키는 제 역할을 해내는 시스템을 구축하는 것이다. 1. 결함과 부분 장애 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/java-livestudy-15week/" class="btn btn-outline-primary" prompt="이전 글"><p>[Live Study] 15주차 과제: 람다식</p></a> <a href="/posts/designing-data-chapter2/" class="btn btn-outline-primary" prompt="다음 글"><p>02장. 데이터 모델과 질의 언어</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "bswsw/bswsw.github.io", "data-repo-id": "R_kgDOHbD5Uw", "data-category": "Announcements", "data-category-id": "DIC_kwDOHbD5U84CPetV", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "ko", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/bswsw">BAE SANGWOO</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/livestudy/">livestudy</a> <a class="post-tag" href="/tags/whiteship/">whiteship</a> <a class="post-tag" href="/tags/learningscala/">learningscala</a> <a class="post-tag" href="/tags/scala/">scala</a> <a class="post-tag" href="/tags/architecture/">architecture</a> <a class="post-tag" href="/tags/data/">data</a> <a class="post-tag" href="/tags/design/">design</a> <a class="post-tag" href="/tags/study/">study</a> <a class="post-tag" href="/tags/jpa/">jpa</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-153066340-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-153066340-1'); }); </script>
