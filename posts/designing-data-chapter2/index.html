<!DOCTYPE html><html lang="ko-KR" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="02장. 데이터 모델과 질의 언어" /><meta name="author" content="Bae Sangwoo" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="소프트웨어에서 데이터를 저장, 표현, 조작하는 다양한 방법을 알아보자. 관계형 모델 문서 모델 그래프 기반 데이터 모델" /><meta property="og:description" content="소프트웨어에서 데이터를 저장, 표현, 조작하는 다양한 방법을 알아보자. 관계형 모델 문서 모델 그래프 기반 데이터 모델" /><link rel="canonical" href="https://bswsw.github.io/posts/designing-data-chapter2/" /><meta property="og:url" content="https://bswsw.github.io/posts/designing-data-chapter2/" /><meta property="og:site_name" content="bveloper" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-11-09T16:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="02장. 데이터 모델과 질의 언어" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Bae Sangwoo" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Bae Sangwoo"},"dateModified":"2024-12-08T13:05:45+09:00","datePublished":"2024-11-09T16:00:00+09:00","description":"소프트웨어에서 데이터를 저장, 표현, 조작하는 다양한 방법을 알아보자. 관계형 모델 문서 모델 그래프 기반 데이터 모델","headline":"02장. 데이터 모델과 질의 언어","mainEntityOfPage":{"@type":"WebPage","@id":"https://bswsw.github.io/posts/designing-data-chapter2/"},"url":"https://bswsw.github.io/posts/designing-data-chapter2/"}</script><title>02장. 데이터 모델과 질의 언어 | bveloper</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="bveloper"><meta name="application-name" content="bveloper"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/bveloper.jpeg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">bveloper</a></div><div class="site-subtitle font-italic">bveloper</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>정보</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/bswsw" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['baegoony','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>02장. 데이터 모델과 질의 언어</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <img data-src="https://wikibook.co.kr/images/cover/l/9791158393601.jpg" class="preview-img bg" alt="Preview Image" data-proofer-ignore><h1 data-toc-skip>02장. 데이터 모델과 질의 언어</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/bswsw">BAE SANGWOO</a> </em></div><div class="d-flex"><div> <span> 게시 <em class="timeago" data-ts="1731135600" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2024-11-09 </em> </span> <span> 업데이트 <em class="timeago" data-ts="1733630745" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2024-12-08 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3133 단어"> <em>17 분</em>읽는 시간</span></div></div></div><div class="post-content"><blockquote><p>소프트웨어에서 데이터를 저장, 표현, 조작하는 다양한 방법을 알아보자.</p><ul><li>관계형 모델<li>문서 모델<li>그래프 기반 데이터 모델</ul></blockquote><h2 id="1-관계형-모델과-문서-모델"><span class="mr-2">1. 관계형 모델과 문서 모델</span><a href="#1-관계형-모델과-문서-모델" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="11-관계형-모델"><span class="mr-2">1.1. 관계형 모델</span><a href="#11-관계형-모델" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>메인프레임 컴퓨터에서 수행된 비즈니스 데이터 처리, 트랜잭션 처리, 일괄처리를 하기 위해 사용됨. 개발자는 DB 내부 데이터 표현에 대해 많이 고민해야 했지만 관계형 모델의 목표는 정리된 인터페이스 뒤로 구현 세부 사항을 숨기는 것. 60년대 부터 사용되기 시작했지만 요즘 대부분의 서비스들도 여전히 관계형 데이터베이스를 통해 제공됨.</p><h3 id="12-객체-관계형-불일치-일대다-관계"><span class="mr-2">1.2. 객체 관계형 불일치 (일대다 관계)</span><a href="#12-객체-관계형-불일치-일대다-관계" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li>객체지향 프로그래밍 언어의 확산<li>관계형 모델로 표현하기 복잡한 데이터 계층 구조<li>임피던스 불일치<li>json 모델 제시<li>NoSQL 데이터베이스 확산</ol><h3 id="13-nosql"><span class="mr-2">1.3. NoSQL</span><a href="#13-nosql" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>오픈소스, 분산 환경, 비관계형 데이터베이스에 적절함. 대규모 데이터셋, 높은 쓰기 처리량, 뛰어난 확장성을 가지고 있음. 오픈소스 소프트웨어 선호도 확산. 특수 질의 동작. 동적이고 표현력이 풍부한 데이터 모델.</p><p>관계형 + 비관계형 모델 = 다중 저장소 지속성 (polyglot persistence)</p><h3 id="14-다대일과-다대다-관계"><span class="mr-2">1.4. 다대일과 다대다 관계</span><a href="#14-다대일과-다대다-관계" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>중복된 데이터를 정규화하려면 참조키를 사용하는 다대일 관계가 필요함. 관게형 모델은 조인이 쉽기 때문에 많이 사용됨. 문서 모델에서는 조인에 대한 지원이 부족하기 때문에 많이 적합하지 않음.</p><p>추천서</p><ul><li>추천받은 사용자 이력서: 추천인의 이름, 사진<li>추천인의 이름 변경: 추천인이 작성한 모든 추천서에 새로운 사진 반영<li>추천서는 추천인의 프로필 참조</ul><h3 id="15-문서-데이터베이스는-역사를-반복하고-있나"><span class="mr-2">1.5. 문서 데이터베이스는 역사를 반복하고 있나?</span><a href="#15-문서-데이터베이스는-역사를-반복하고-있나" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>70년대 가장 많이 사용된 데이터베이스는 IBM의 IMS. 계층 모델을 사용.</p><ul><li>(문서 데이터베이스의 JSON 모델과 유사) 조인을 지원하지 않아 다대다 관계 표현에 어려움이 있음.<li>데이터를 중복할 것인가, 수동으로 참조할 것인가 해결책으로 네트워크 모델과 관계형 모델이 제시됨.</ul><h4 id="151-네트워크-모델"><span class="mr-2">1.5.1. 네트워크 모델</span><a href="#151-네트워크-모델" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>계층 모델에서는 하나의 부모만 존재하지만 네트워크 모델의 레코드는 다중 부모가 있을 수 있음. 최상위 레코드에서 부터 연속된 연결 경로를 따르는 방법. 목록의 맨 앞에서 시작해서 원하는 레코드를 찾을 때까지 한 번에 하나의 레코드를 보는 방식. 레코드 목록을 반복해 접근 경로를 따라 데이터베이스의 끝에서 끝까지 커서를 움직여 수행.</p><h4 id="152-관계형-모델"><span class="mr-2">1.5.2. 관계형 모델</span><a href="#152-관계형-모델" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>관계(테이블)는 단순히 튜플(로우)의 컬렉션. 중첩 데이터 구조를 여러 테이블에 데이터를 배치함. 테이블의 로우로 배치된 데이터는 특정 조건에 일치만 한다면 외래키 관계에 대해 신경 쓰지 않고 읽고 쓸 수 있음. 쿼리를 엔진이 알아서 최적화 해줌.</p><h4 id="153-문서-데이터베이스와-비교"><span class="mr-2">1.5.3. 문서 데이터베이스와 비교</span><a href="#153-문서-데이터베이스와-비교" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>관계형 모델에서는 외래키 문서 모델에서는 문서 참조</p><h3 id="16-어떤-데이터-모델이-애플리케이션-코드를-더-간단하게-할까"><span class="mr-2">1.6. 어떤 데이터 모델이 애플리케이션 코드를 더 간단하게 할까?</span><a href="#16-어떤-데이터-모델이-애플리케이션-코드를-더-간단하게-할까" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>애플리케이션 데이터가 문서와 비슷한 구조라면 문서 모델을 사용하는 것이 좋음.</p><ul><li>문서와 비슷한 데이터를 관계형 데이터로 찢는 것은 복잡한 스키마와 애플리케이션 코드를 발생 시킴.</ul><p>애플리케이션에서 다대다 관계 처럼 상호 연결이 많은 데이터의 경우라면 관계형 모델이 더 적합함.</p><ul><li>문서 모델을 사용하면 애플리케이션 내에 복잡한 조인 로직이 필요함.</ul><p>애플리케이션에서 어떤 데이터 구조를 사용하느냐에 따라 적합한 모델을 선택해야함.</p><h4 id="161-문서-모델에서의-스키마-유연성"><span class="mr-2">1.6.1. 문서 모델에서의 스키마 유연성</span><a href="#161-문서-모델에서의-스키마-유연성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>기본적으로 JSON 데이터는 스키마를 강요하지 않음. 문서 모델은 스키마리스라고 불리지만 강요하지 않을뿐 암묵적인 스키마 존재함.</p><ul><li>쓰기 스키마: 정적(컴파일 타임) 타입 확인과 유사<li>읽기 스키마: 동적(런타임) 타입 확인과 유사 문서 모델에서는 데이터 타입을 변경할 때 새로운 필드를 가진 문서를 작성하면 됨. 관계형 모델에서는 데이터베이스에 새로운 컬럼을 먼저 추가해야함.</ul><h4 id="162-질의를-위한-데이터-지역성"><span class="mr-2">1.6.2. 질의를 위한 데이터 지역성</span><a href="#162-질의를-위한-데이터-지역성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>애플리케이션이 자주 전체 문서에 접근해야 할 때 저장소 지역성(storage locality)을 활용하면 성능 이점이 있음. 지역성의 이점은 한 번에 해당 문서의 많은 부분을 필요로 하는 경우에만 적용됨. 문서를 갱신할 때 보통 전체 문서를 재작성 해야함. 문서를 아주 작게 유지하면서 문서의 크기가 증가하는 쓰기를 피하는 것을 권장. 이 성능 제한 때문에 문서 데이터베이스가 유용한 상황이 줄어듬.</p><ul><li>구글 스패너: 부모 테이블 내에 테이블의 로우를 교차 배치되게끔 선언하는 스키마를 허용하여 관계형 모델에 지역성 특성을 제공.<li>오라클: 다중 테이블 색인 클러스터 테이블 기능으로 지역성을 제공.<li>HBase: 칼럼 패밀리 개념이 지역성 관리에 유사한 목적.</ul><h4 id="163-문서-데이터베이스와-관계형-데이터베이스의-통합"><span class="mr-2">1.6.3. 문서 데이터베이스와 관계형 데이터베이스의 통합</span><a href="#163-문서-데이터베이스와-관계형-데이터베이스의-통합" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>관계형 데이터베이스인 MySQL, Postgresql 등에서 JSON 데이터 타입을 제공함. 문서 데이터베이스의 리싱크DB는 관계형 조인 질의를 지원. 몽고DB 드라이버는 자동으로 데이터베이스 참조를 확인. (클라이언트 조인) 관계형, 문서 혼합 모델은 미래 데이터베이스들이 가야할 올바른 길.</p><h2 id="2-데이터를-위한-질의-언어"><span class="mr-2">2. 데이터를 위한 질의 언어</span><a href="#2-데이터를-위한-질의-언어" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>선언형 질의 언어<ul><li>SQL<li>목표 달성 방법이 아니라 데이터 패턴을 명시<li>명령형 API보다 간결하고 쉽게 작성 가능<li>질의를 변경하지 않고 데이터베이스 시스템 성능 향상 가능<li>특정 순서를 보장하지 않으므로 순서가 바뀌어도 상관없음<li>알고리즘이 아니라 패턴을 지정하기 때문에 병렬 실행에 적합함</ul><li>명령형 질의 언어<ul><li>IMS, 코다실<li>특정 순서로 특정 연산을 수행하도록 지시<li>데이터베이스는 코드가 순서에 의존하는지 확신할 수 없음<li>명령을 특정 순서대로 수행하게끔 지시하여 다중 코어, 다중 장비에서 병렬 처리가 매우 어려움</ul></ul><h3 id="21-웹에서의-선언형-질의"><span class="mr-2">2.1. 웹에서의 선언형 질의</span><a href="#21-웹에서의-선언형-질의" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>스타일을 지정하는 방식의 차이</p><ul><li>CSS: 선언형 질의<li>Javascript: 명령형 지의</ul><h3 id="22-맵리듀스-질의"><span class="mr-2">2.2. 맵리듀스 질의</span><a href="#22-맵리듀스-질의" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>대량의 데이터를 처리하기 위한 프로그래밍 모델. 일부 NoSQL 데이터 저장소는 제한된 형태의 맵리듀스 지원. (<a href="https://www.mongodb.com/ko-kr/docs/manual/reference/method/db.collection.mapReduce/">몽고DB</a>) 읽기 전용 질의를 수행할 때 사용. 질의 로직은 처리 프레임워크가 반복적으로 호출하는 조각 코드로 표현. map, reduce 함수를 기반으로 함.</p><h4 id="221-몽고db-기준-map-reduce-제약-사항"><span class="mr-2">2.2.1. 몽고DB 기준 map, reduce 제약 사항</span><a href="#221-몽고db-기준-map-reduce-제약-사항" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>두 함수는 순수 함수여야 함<li>입력으로 전달된 데이터만 사용<li>추가적인 데이터베이스 질의 수행할 수 없어야 함<li>부수 효과가 없어야함<li>이 제약으로 순서 상관없이 실행이 가능하고 장애가 발생해도 재실행 가능</ul><h2 id="3-그래프형-데이터-모델"><span class="mr-2">3. 그래프형 데이터 모델</span><a href="#3-그래프형-데이터-모델" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>관계형 모델로도 다대다 관계를 다룰 수 있지만 데이터 간 연결이 더 복잡해지면 그래프로 데이터 모델링하기 시작하는 편이 더 자연스러움.</p><h5 id="그래프의-두-유형의-객체"><span class="mr-2">그래프의 두 유형의 객체</span><a href="#그래프의-두-유형의-객체" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5></h5><ul><li>정점(vertex): 노드나 엔티티<li>간선(edge): 관계나 호(arc)</ul><h3 id="31-속성-그래프"><span class="mr-2">3.1. 속성 그래프</span><a href="#31-속성-그래프" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><h4 id="311-정점의-구성-요소"><span class="mr-2">3.1.1. 정점의 구성 요소</span><a href="#311-정점의-구성-요소" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>고유한 식별자<li>유출(outgoing) 간선 집합<li>유입(incoming) 간선 집합<li>속성 컬렉션 (key-value)</ul><h4 id="312-간선의-구성-요소"><span class="mr-2">3.1.2. 간선의 구성 요소</span><a href="#312-간선의-구성-요소" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><ul><li>고유한 식별자<li>간선이 시작하는 정점 (꼬리 정점)<li>간선이 끝나는 정점 (머리 정점)<li>두 정점 간 관계 유형을 설명하는 레이블<li>속성 컬렉션 (key-value)</ul><h4 id="313-관계형-스키마로-속성-그래프-표현"><span class="mr-2">3.1.3. 관계형 스키마로 속성 그래프 표현</span><a href="#313-관계형-스키마로-속성-그래프-표현" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="k">create</span> <span class="k">table</span> <span class="n">vertices</span> <span class="p">(</span>
	<span class="n">vertex_id</span> <span class="nb">integer</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span>
	<span class="n">properties</span> <span class="n">json</span>
<span class="p">);</span>

<span class="k">create</span> <span class="k">table</span> <span class="n">edges</span> <span class="p">(</span>
	<span class="n">edge_id</span> <span class="nb">integer</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span>
	<span class="n">tail_vertex</span> <span class="nb">integer</span> <span class="n">reference</span> <span class="n">vertices</span> <span class="p">(</span><span class="n">vertex_id</span><span class="p">),</span>
	<span class="n">head_vertex</span> <span class="nb">integer</span> <span class="n">reference</span> <span class="n">vertices</span> <span class="p">(</span><span class="n">vertex_id</span><span class="p">),</span>
	<span class="n">label</span> <span class="nb">text</span><span class="p">,</span>
	<span class="n">properties</span> <span class="n">json</span>
<span class="p">);</span>

<span class="k">create</span> <span class="k">index</span> <span class="n">edges_tails</span> <span class="k">on</span> <span class="n">edges</span> <span class="p">(</span><span class="n">tail_vertex</span><span class="p">);</span>
<span class="k">create</span> <span class="k">index</span> <span class="n">edges_heads</span> <span class="n">n</span> <span class="n">edges</span> <span class="p">(</span><span class="n">head_vertex</span><span class="p">);</span>
</pre></table></code></div></div><ul><li>정점은 다른 정점과 간선으로 연결됨.<li>특정 유형과 관련 여부를 제한하는 스키마는 없음.<li>정점이 주어지면 정점의 유입과 유출 간선을 효율적으로 찾을 수 있고 그래프를 순회할 수 있음.<li>정점을 따라 앞뒤 방향으로 순회 가능.<li>서로 다른 레이블을 사용하면 단일 그래프에 다른 유형의 정보를 저장하면서 모델을 깔끔하게 유지 가능.</ul><p>https://www.devkuma.com/docs/neo4j/overview/</p><h3 id="32-사이퍼-질의-언어"><span class="mr-2">3.2. 사이퍼 질의 언어</span><a href="#32-사이퍼-질의-언어" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>속성 그래프를 위한 선언형 질의 언어. 네오포제이 그래프 데이터베이스용.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>MATCH
  (person) - [:BORN_IN] -&gt; () -[:WITHIN*0..] -&gt; (us:Location {name: 'United States'}),
  (person) - [:LIVES_IN] -&gt; () -[:WITHIN*0..] -&gt; (eu:Location {name: 'Europe'})
RETURN person.name
</pre></table></code></div></div><p>데이터베이스에서 모든 사람을 훑어보는 작업을 시작으로 사람들의 출생지와 거주지를 확인해 기준에 맡는 사람들만 반환.</p><p>name 속성에 색인이 있다면 동일하게 두 개의 Location 정점에서 시작해 반대 방향으로 수행도 가능.</p><ul><li>name 으로 미국과 유럽을 나타내는 두 개의 정점을 찾음.<li>WITHIN 유입 간섭을 따라 미국과 유럽의 모든 위치 찾기 진행.<li>위치를 나타내는 정점 중 하나에서 BORN_IN, LIVES_IN 유입 간선을 통해 발견된 사람들을 구함.</ul><p>보통 선언형 질의 언어는 질의를 작성할 때 이처럼 수행에 자세히 지정할 필요가 없고 질의 최적좌기에서 효율적인 전략으로 선택해줌.</p><h3 id="33-sql의-그래프-질의"><span class="mr-2">3.3. SQL의 그래프 질의</span><a href="#33-sql의-그래프-질의" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>관계형 데이터베이스로 표현된 그래프 데이터는 SQL로 질의할 수는 있지만 질의에 필요한 조인을 미리 알고 있어야함. 그래프 질의에서는 찾고자하는 정점을 찾기 전에 가변적인 여러 간선을 순회해야하여 미리 조인 수를 고정할 수 없음. 재귀 공통 테이블 식 (with recursive) 를 사용할 수 있지만 사이퍼와 비교하면 문법이 매우 어려움.</p><h3 id="34-트리플-저장소와-스파클"><span class="mr-2">3.4. 트리플 저장소와 스파클</span><a href="#34-트리플-저장소와-스파클" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>트리플 저장소 모델은 속성 그래프 모델과 거의 동등. 트리플 저장소에서는 모든 정보를 매우 간단한 세 부분 구문 (three-part statements) 형식으로 저장함.</p><ul><li>subject, predicate, object</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/study/'>Study</a>, <a href='/categories/%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A4%91%EC%8B%AC-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%84%A4%EA%B3%84/'>데이터 중심 어플리케이션 설계</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/study/" class="post-tag no-text-decoration" >study</a> <a href="/tags/data/" class="post-tag no-text-decoration" >data</a> <a href="/tags/design/" class="post-tag no-text-decoration" >design</a> <a href="/tags/architecture/" class="post-tag no-text-decoration" >architecture</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=02장. 데이터 모델과 질의 언어 - bveloper&amp;url=https://bswsw.github.io/posts/designing-data-chapter2/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=02장. 데이터 모델과 질의 언어 - bveloper&amp;u=https://bswsw.github.io/posts/designing-data-chapter2/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://bswsw.github.io/posts/designing-data-chapter2/&amp;text=02장. 데이터 모델과 질의 언어 - bveloper" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/designing-data-chapter9/">09장. 일관성과 합의</a><li><a href="/posts/designing-data-chapter8/">08장. 분산 시스템의 골칫거리</a><li><a href="/posts/designing-data-chapter7/">07장. 트랜잭션</a><li><a href="/posts/designing-data-chapter6/">06장. 파티셔닝</a><li><a href="/posts/designing-data-chapter5/">05장. 복제</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/livestudy/">livestudy</a> <a class="post-tag" href="/tags/whiteship/">whiteship</a> <a class="post-tag" href="/tags/learningscala/">learningscala</a> <a class="post-tag" href="/tags/scala/">scala</a> <a class="post-tag" href="/tags/architecture/">architecture</a> <a class="post-tag" href="/tags/data/">data</a> <a class="post-tag" href="/tags/design/">design</a> <a class="post-tag" href="/tags/study/">study</a> <a class="post-tag" href="/tags/jpa/">jpa</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/designing-data-chapter3/"><div class="card-body"> <em class="timeago small" data-ts="1732204800" > 2024-11-22 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>03장. 저장소와 검색</h3><div class="text-muted small"><p> 데이터베이스 관점에서 데이터를 저장하는 방법과 데이터를 요청했을 때 다시 찾을 수 있는 방법에 대해 알아보자. 0. 개발자가 주의해야하는 이유 사용 가능한 여러 저장소 엔진 중에 어플리케이션에 적합한 엔진을 선택하는 것이 필요 특정 작업부하 유형에서 좋은 성능을 내게끔 저장소 엔진을 조정하려면 저장소 엔진이 내부에서 수행되는 작업에 ...</p></div></div></a></div><div class="card"> <a href="/posts/designing-data-chapter4/"><div class="card-body"> <em class="timeago small" data-ts="1732942800" > 2024-11-30 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>04장. 부호화와 발전</h3><div class="text-muted small"><p> Encoding and Evolution 데이터 부호화를 위한 다양한 형식으로 스키마가 변경되고 예전 버전과 새로운 버전의 데이터와 코드가 공존하는 시스템을 어떻게 지원하는지 알아보자. 하위 호환성: 새로운 코드는 예전 코드가 기록한 데이터를 읽을 수 있어야 한다. 상위 호환성: 에전 코드는 새로운 코드가 기록한 데이터를 읽을 수 있...</p></div></div></a></div><div class="card"> <a href="/posts/designing-data-chapter5/"><div class="card-body"> <em class="timeago small" data-ts="1733634000" > 2024-12-08 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>05장. 복제</h3><div class="text-muted small"><p> 복제를 위한 데이터 변경 처리에 대한 어려움을 알아보자 잘못될 수 있는 것과 잘못될 수 없는 것 사이의 주된 차이점은 잘못될 수 없는 것이 잘못됐을 때는 잘못을 파악하거나 고치는 것은 거의 불가능하다는 점이다. - 더글라스 애덤스, 대체로 무해함(1992) 0. 복제란? 네트워크로 연결된 여러 장비에 동일한 데이터의 복사본을 유...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/fp-ts-1/" class="btn btn-outline-primary" prompt="이전 글"><p>[fp-ts] 타입스크립트로 함수형 프로그래밍 시작하기: Eq</p></a> <a href="/posts/designing-data-chapter3/" class="btn btn-outline-primary" prompt="다음 글"><p>03장. 저장소와 검색</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "bswsw/bswsw.github.io", "data-repo-id": "R_kgDOHbD5Uw", "data-category": "Announcements", "data-category-id": "DIC_kwDOHbD5U84CPetV", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "ko", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/bswsw">BAE SANGWOO</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/livestudy/">livestudy</a> <a class="post-tag" href="/tags/whiteship/">whiteship</a> <a class="post-tag" href="/tags/learningscala/">learningscala</a> <a class="post-tag" href="/tags/scala/">scala</a> <a class="post-tag" href="/tags/architecture/">architecture</a> <a class="post-tag" href="/tags/data/">data</a> <a class="post-tag" href="/tags/design/">design</a> <a class="post-tag" href="/tags/study/">study</a> <a class="post-tag" href="/tags/jpa/">jpa</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-153066340-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-153066340-1'); }); </script>
