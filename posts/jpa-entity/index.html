<!DOCTYPE html><html lang="ko-KR" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="[JPA] 엔티티 작성 시 주의 사항 (feat. 스프링 부트, 코틀린)" /><meta name="author" content="Bae Sangwoo" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="단일 데이터 소스를 사용하고 특별한 조건이 없으면서 스프링 부트를 사용한다면 JPA를 설정하는 것은 매우 간편합니다." /><meta property="og:description" content="단일 데이터 소스를 사용하고 특별한 조건이 없으면서 스프링 부트를 사용한다면 JPA를 설정하는 것은 매우 간편합니다." /><link rel="canonical" href="https://bswsw.github.io/posts/jpa-entity/" /><meta property="og:url" content="https://bswsw.github.io/posts/jpa-entity/" /><meta property="og:site_name" content="bveloper" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-02-06T22:17:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[JPA] 엔티티 작성 시 주의 사항 (feat. 스프링 부트, 코틀린)" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Bae Sangwoo" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Bae Sangwoo"},"dateModified":"2020-02-06T22:17:00+09:00","datePublished":"2020-02-06T22:17:00+09:00","description":"단일 데이터 소스를 사용하고 특별한 조건이 없으면서 스프링 부트를 사용한다면 JPA를 설정하는 것은 매우 간편합니다.","headline":"[JPA] 엔티티 작성 시 주의 사항 (feat. 스프링 부트, 코틀린)","mainEntityOfPage":{"@type":"WebPage","@id":"https://bswsw.github.io/posts/jpa-entity/"},"url":"https://bswsw.github.io/posts/jpa-entity/"}</script><title>[JPA] 엔티티 작성 시 주의 사항 (feat. 스프링 부트, 코틀린) | bveloper</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="bveloper"><meta name="application-name" content="bveloper"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/bveloper.jpeg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">bveloper</a></div><div class="site-subtitle font-italic">bveloper</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>정보</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/bswsw" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['baegoony','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>[JPA] 엔티티 작성 시 주의 사항 (feat. 스프링 부트, 코틀린)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[JPA] 엔티티 작성 시 주의 사항 (feat. 스프링 부트, 코틀린)</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/bswsw">BAE SANGWOO</a> </em></div><div class="d-flex"><div> <span> 게시 <em class="timeago" data-ts="1580995020" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2020-02-06 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1254 단어"> <em>6 분</em>읽는 시간</span></div></div></div><div class="post-content"><p>단일 데이터 소스를 사용하고 특별한 조건이 없으면서 <strong>스프링 부트</strong>를 사용한다면 JPA를 설정하는 것은 매우 간편합니다.</p><p>그러나 기본적인 엔티티 작성 방법 외에 사용 시 주의해야 할 사항들이 있어 정리해봅니다.</p><p>개인적인 관점에서 필요하다 생각하는 주의 사항이므로 잘못된 방법이라면 댓글로 지적 부탁드립니다.</p><p>또는 추가적으로 주의 사항이 있다면 댓글로 정보를 주시면 감사드리겠습니다.</p><h1 id="엔티티-작성-가이드">엔티티 작성 가이드</h1><ul><li><a href="https://docs.oracle.com/javaee/7/api/javax/persistence/Entity.html" target="_blank">@Entity</a> 애노테이션을 사용해야 합니다.<li><code class="language-plaintext highlighter-rouge">public</code> 혹은 <code class="language-plaintext highlighter-rouge">protected</code> 접근자의 기본 생성자가 필요합니다.<li>탑 레벨 클래스이어야 하고 <code class="language-plaintext highlighter-rouge">enum</code> 이나 <code class="language-plaintext highlighter-rouge">interface</code>는 엔티티가 될 수 없습니다.</ul><blockquote><p>참고 : https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#entity-pojo</p></blockquote><h1 id="엔티티-작성-시-주의-사항">엔티티 작성 시 주의 사항</h1><h2 id="equals-hashcode-재정의"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">equals()</code>, <code class="language-plaintext highlighter-rouge"><span class="mr-2">hashCode()</code> 재정의</span><a href="#equals-hashcode-재정의" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>엔티티는 식별자(<code class="language-plaintext highlighter-rouge">@Id</code>)를 가지는 객체로써 <code class="language-plaintext highlighter-rouge">equals()</code>와 <code class="language-plaintext highlighter-rouge">hashCode()</code>를 재정의해주어야 동일성과 동등성이 보장될 수 있습니다.</p><p>재정의 시에 기본적으로 <code class="language-plaintext highlighter-rouge">@Id</code> 필드는 필수로 넣어주시면 좋습니다.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="nd">@Entity</span>
<span class="kd">class</span> <span class="nc">Blog</span> <span class="p">{</span>
    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="p">(</span><span class="n">strategy</span> <span class="p">=</span> <span class="nc">GenerationType</span><span class="p">.</span><span class="nc">IDENTITY</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">id</span><span class="p">:</span> <span class="nc">Long</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>

    <span class="kd">var</span> <span class="py">title</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>

    <span class="kd">var</span> <span class="py">content</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">equals</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="nc">Any</span><span class="p">?):</span> <span class="nc">Boolean</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span> <span class="p">===</span> <span class="n">other</span><span class="p">)</span> <span class="k">return</span> <span class="k">true</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">javaClass</span> <span class="p">!=</span> <span class="n">other</span><span class="o">?.</span><span class="n">javaClass</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span>

        <span class="n">other</span> <span class="k">as</span> <span class="nc">Blog</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">id</span> <span class="p">!=</span> <span class="n">other</span><span class="p">.</span><span class="n">id</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span>

        <span class="k">return</span> <span class="k">true</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">hashCode</span><span class="p">():</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">id</span><span class="o">?.</span><span class="nf">hashCode</span><span class="p">()</span> <span class="o">?:</span> <span class="mi">0</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="tostring-재정의-시-연관관계-필드-제외"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">toString()</code> 재정의 시 연관관계 필드 제외</span><a href="#tostring-재정의-시-연관관계-필드-제외" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>테스트 혹은 필요에 의해 자동으로 <code class="language-plaintext highlighter-rouge">toString()</code>을 재정의하는 경우 연관관계 필드들은 제외하고 정의하셔야 합니다.</p><p>특히 양방향 관계라면 더욱 조심하여야 합니다.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre><td class="rouge-code"><pre><span class="nd">@Entity</span>
<span class="kd">class</span> <span class="nc">Parent</span> <span class="p">{</span>
    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="p">(</span><span class="n">strategy</span> <span class="p">=</span> <span class="nc">GenerationType</span><span class="p">.</span><span class="nc">IDENTITY</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">id</span><span class="p">:</span> <span class="nc">Long</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>

    <span class="kd">var</span> <span class="py">name</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>

    <span class="nd">@OneToMany</span><span class="p">(</span><span class="n">mappedBy</span> <span class="p">=</span> <span class="s">"parent"</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">children</span><span class="p">:</span> <span class="nc">MutableSet</span> <span class="p">=</span> <span class="nf">mutableSetOf</span><span class="p">()</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">toString</span><span class="p">():</span> <span class="nc">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">"Parent(id=$id, name=$name, children=$children)"</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nd">@Entity</span>
<span class="kd">class</span> <span class="nc">Child</span> <span class="p">{</span>
    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="p">(</span><span class="n">strategy</span> <span class="p">=</span> <span class="nc">GenerationType</span><span class="p">.</span><span class="nc">IDENTITY</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">id</span><span class="p">:</span> <span class="nc">Long</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>

    <span class="kd">var</span> <span class="py">name</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>

    <span class="nd">@ManyToOne</span><span class="p">(</span><span class="n">fetch</span> <span class="p">=</span> <span class="nc">FetchType</span><span class="p">.</span><span class="nc">LAZY</span><span class="p">)</span>
    <span class="kd">var</span> <span class="py">parent</span><span class="p">:</span> <span class="nc">Parent</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>

    <span class="c1">// Convenient method</span>
    <span class="k">fun</span> <span class="nf">matchParent</span><span class="p">(</span><span class="n">parent</span><span class="p">:</span> <span class="nc">Parent</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">parent</span> <span class="p">=</span> <span class="n">parent</span>
        <span class="n">parent</span><span class="p">.</span><span class="n">children</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">toString</span><span class="p">():</span> <span class="nc">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">"Child(id=$id, name=$name, parent=$parent)"</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>위와 같은 두 엔티티가 양방향 관계를 맺고 <code class="language-plaintext highlighter-rouge">toString()</code>을 자동 생성하여 연관 관계 필드를 참조하고</p><p>아래와 같이 루프를 돌면서 프린트를 찍으면 순환 참조가 계속 발생하여 스택 오버 플로우 익셉션이 발생하고</p><p>애플리케이션이 종료되는 것을 볼 수 있습니다.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nd">@Test</span>
<span class="nd">@DisplayName</span><span class="p">(</span><span class="s">"toString() 순환 참조 테스트"</span><span class="p">)</span>
<span class="k">fun</span> <span class="nf">testRecursiveError</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">childRepository</span><span class="p">.</span><span class="nf">findAll</span><span class="p">().</span><span class="nf">forEach</span><span class="p">(</span><span class="o">::</span><span class="n">println</span><span class="p">)</span>
<span class="p">}</span>
</pre></table></code></div></div><p><img data-src="/assets/img/posts/2020-02-06-jpa-entity/recursive-error.png" alt="" data-proofer-ignore> <em>엔티티에서 toString()이 잘못 사용된 예</em></p><h1 id="kotlin-기준-엔티티-작성-시-주의-사항">Kotlin 기준 엔티티 작성 시 주의 사항</h1><p>코틀린 기반 스프링을 사용하면서 JPA를 사용한다면 추가적으로 주의해야할 사항들이 있으니 꼭 체크해주세요.</p><h2 id="코틀린-all-open-플러그인-잘쓰기"><span class="mr-2">코틀린 all open 플러그인 잘쓰기</span><a href="#코틀린-all-open-플러그인-잘쓰기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c1">// allopen 확장, @Component 등 특정 스프링 어노테이션에 대해 allopen 플러그인을 적용.</span>
<span class="nf">kotlin</span><span class="p">(</span><span class="s">"plugin.spring"</span><span class="p">)</span> <span class="n">version</span> <span class="n">kotlinVersion</span>

<span class="c1">// noarg 확장, @Entity, @Embeddable, @MappedSuperclass 어노테이션에 대해 noarg 플러그인 적용.</span>
<span class="nf">kotlin</span><span class="p">(</span><span class="s">"plugin.jpa"</span><span class="p">)</span> <span class="n">version</span> <span class="n">kotlinVersion</span>
</pre></table></code></div></div><p>코틀린을 사용하여 스프링과 JPA를 개발할 때 보통 기본적으로 위와 같이 두 플러그인 설정을 하게 됩니다.</p><p>주석에 달린 설명대로 간단하게 설명할 수 있으며 만약 두 플러그인에 대해 자세히 모르신다면 하며</p><p>자세한 정보는 아래 두 링크를 참고해주세요.</p><ul><li><a href="https://kotlinlang.org/docs/reference/compiler-plugins.html#spring-support" target="_blank">Kotlin Spring Plugin</a><li><a href="https://kotlinlang.org/docs/reference/compiler-plugins.html#jpa-support" target="_blank">Kotlin JPA Plugin</a></ul><p>중요한 것은 코틀린으로 JPA의 지연 로딩을 제대로 사용하려면 all open 플러그인의 커스텀이 필요합니다.</p><p>지연 로딩은 프록시 객체를 만들 수 있어야 하는데 그러려면 엔티티 클래스에 <code class="language-plaintext highlighter-rouge">final</code> 키워드가 없어야 합니다.</p><p>그러나 코틀린의 <code class="language-plaintext highlighter-rouge">class</code>와 프로퍼티(필드)는 기본값이 <code class="language-plaintext highlighter-rouge">final</code>이기 때문에 <code class="language-plaintext highlighter-rouge">open</code> 키워드를 클래스와 필드에</p><p>사용해주어야 하지만</p><p>매우 불편한 일이므로 아래와 같이 설정하여 지연 로딩이 가능하게 즉, 프록시 객체 생성이 가능하게 설정할 수 있습니다.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nf">allOpen</span> <span class="p">{</span>
    <span class="k">annotation</span><span class="p">(</span><span class="s">"javax.persistence.Entity"</span><span class="p">)</span>
    <span class="k">annotation</span><span class="p">(</span><span class="s">"javax.persistence.MappedSuperclass"</span><span class="p">)</span>
    <span class="k">annotation</span><span class="p">(</span><span class="s">"javax.persistence.Embeddable"</span><span class="p">)</span>
<span class="p">}</span>
</pre></table></code></div></div><p>위와 같이 설정하여 <code class="language-plaintext highlighter-rouge">@Entity</code>, <code class="language-plaintext highlighter-rouge">@MappedSuperclass</code>, <code class="language-plaintext highlighter-rouge">@Embeddable</code>을 사용하는 클래스와 프로퍼티를</p><p><code class="language-plaintext highlighter-rouge">open</code> 시킬 수 있습니다.</p><p>이렇게 JPA에서 엔티티를 사용할 때 주의해야 할 점을 간단하게 알아봤습니다.</p><p>감사합니다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/jpa/'>JPA</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/jpa/" class="post-tag no-text-decoration" >jpa</a> <a href="/tags/entity/" class="post-tag no-text-decoration" >entity</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[JPA] 엔티티 작성 시 주의 사항 (feat. 스프링 부트, 코틀린) - bveloper&amp;url=https://bswsw.github.io/posts/jpa-entity/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[JPA] 엔티티 작성 시 주의 사항 (feat. 스프링 부트, 코틀린) - bveloper&amp;u=https://bswsw.github.io/posts/jpa-entity/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://bswsw.github.io/posts/jpa-entity/&amp;text=[JPA] 엔티티 작성 시 주의 사항 (feat. 스프링 부트, 코틀린) - bveloper" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/designing-data-chapter9/">09장. 일관성과 합의</a><li><a href="/posts/designing-data-chapter8/">08장. 분산 시스템의 골칫거리</a><li><a href="/posts/designing-data-chapter7/">07장. 트랜잭션</a><li><a href="/posts/designing-data-chapter6/">06장. 파티셔닝</a><li><a href="/posts/designing-data-chapter5/">05장. 복제</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/livestudy/">livestudy</a> <a class="post-tag" href="/tags/whiteship/">whiteship</a> <a class="post-tag" href="/tags/learningscala/">learningscala</a> <a class="post-tag" href="/tags/scala/">scala</a> <a class="post-tag" href="/tags/architecture/">architecture</a> <a class="post-tag" href="/tags/data/">data</a> <a class="post-tag" href="/tags/design/">design</a> <a class="post-tag" href="/tags/study/">study</a> <a class="post-tag" href="/tags/jpa/">jpa</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/jpa-persistence-context/"><div class="card-body"> <em class="timeago small" data-ts="1578821160" > 2020-01-12 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[JPA] 영속성 컨텍스트 (Persistence Context) 특징</h3><div class="text-muted small"><p> 먼저 JPA란 Java Persistence API의 약자로 자바 ORM 기술에 대한 API 표준 명세이며 대표적인 구현체로는 Hibernate가 있습니다. JPA에서 가장 중요한 개념 중 하나인 영속성 컨텍스트(Persistence Context)의 특징에 대해 함께 알아보겠습니다. 특징에는 크게 다섯 가지가 있습니다. 1차 캐시 (Fir...</p></div></div></a></div><div class="card"> <a href="/posts/jpa-querydsl/"><div class="card-body"> <em class="timeago small" data-ts="1581952680" > 2020-02-18 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[JPA] Spring Data JPA와 Querydsl (feat. Spring MVC)</h3><div class="text-muted small"><p> EntityListener 1 2 3 4 5 6 7 @PrePersist @PostPersist @PreUpdate @PostUpdate @PreRemove @PostRemove @PostLoad AttributeConverter 1 2 3 4 5 6 7 8 9 10 11 12 13 @Converter class SnackNutrientConv...</p></div></div></a></div><div class="card"> <a href="/posts/designing-data-chapter10/"><div class="card-body"> <em class="timeago small" data-ts="1745640000" > 2025-04-26 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>10장. 일괄 처리</h3><div class="text-muted small"><p> 0. 일괄 처리 일괄 처리는 대규모 데이터를 처리하는 중요한 방식으로, 서비스(온라인), 일괄 처리(오프라인), 스트림 처리(준실시간)와 구분한다. 일괄 처리 시스템은 대용량 입력 데이터를 받아 처리하고 결과 데이터를 생산하며, 작업 시간이 길어 사용자의 즉각적인 대기 없이 반복적인 일정으로 수행된다. 주요 성능 지표는 처리량이다. ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/jpa-persistence-context/" class="btn btn-outline-primary" prompt="이전 글"><p>[JPA] 영속성 컨텍스트 (Persistence Context) 특징</p></a> <a href="/posts/jpa-querydsl/" class="btn btn-outline-primary" prompt="다음 글"><p>[JPA] Spring Data JPA와 Querydsl (feat. Spring MVC)</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "bswsw/bswsw.github.io", "data-repo-id": "R_kgDOHbD5Uw", "data-category": "Announcements", "data-category-id": "DIC_kwDOHbD5U84CPetV", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "ko", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/bswsw">BAE SANGWOO</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/livestudy/">livestudy</a> <a class="post-tag" href="/tags/whiteship/">whiteship</a> <a class="post-tag" href="/tags/learningscala/">learningscala</a> <a class="post-tag" href="/tags/scala/">scala</a> <a class="post-tag" href="/tags/architecture/">architecture</a> <a class="post-tag" href="/tags/data/">data</a> <a class="post-tag" href="/tags/design/">design</a> <a class="post-tag" href="/tags/study/">study</a> <a class="post-tag" href="/tags/jpa/">jpa</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-153066340-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-153066340-1'); }); </script>
